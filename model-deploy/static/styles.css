/* Kids-playground theme - mobile-first */
/* Font */
:root{
  --bg: #fefefe;
  --card-bg: linear-gradient(180deg, #fffef7, #fff6e6);
  --accent: #ffcc33; /* default (banana-like) */
  --accent-2: #62c370; /* watermelon green */
  --pink: #ff6b8a; /* watermelon flesh */
  --banana: #ffd84d;
  --banana-dark: #f4c542;
  --watermelon-rind: #4fb66a;
  --watermelon-flesh: #ff7aa2;
  --shadow: 0 8px 18px rgba(0,0,0,0.12);
  --radius: 18px;
  --muted: #64707a;
  font-family: "Baloo 2", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  transition: background-color 450ms ease, color 450ms ease;
}

/* page base */
html,body{
  height:100%;
  margin:0;
  background: linear-gradient(180deg, #f0fbff 0%, #fff 50%);
  color:#123;
}

.scene{ position:relative; min-height:100vh; overflow:hidden; }

/* deco layer absolute */
.deco-layer{
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:0;
}

/* background decoration SVGs */
.bg-deco{
  position:absolute;
  width:84px;
  height:84px;
  left:0; top:0;
  transform-origin:center;
  will-change:transform, filter;
  /* positioning via CSS variables set inline */
  left: var(--x, 10%);
  top: var(--y, 10%);
  transform: rotate(var(--r, 0deg));
  opacity:0.95;
  filter: drop-shadow(0 6px 10px rgba(0,0,0,0.06));
  animation: float calc(12s / var(--s,1)) ease-in-out infinite;
  transition: transform 450ms ease, filter 350ms ease;
}

/* decorative shape color controlled by specific fruit classes */
.bg-deco .banana-fill{ fill: var(--banana); transition: fill 450ms ease, transform 450ms ease; }
.bg-deco .banana-tip{ fill: #7b4b12; opacity:0.9; transition: fill 450ms ease; }
.bg-deco .watermelon-rind{ fill: var(--watermelon-rind); transition: fill 450ms ease; }
.bg-deco .watermelon-flesh{ fill: var(--watermelon-flesh); transition: fill 450ms ease; }
.bg-deco .watermelon-seed{ fill: #2b2b2b; opacity:0.95; transition: fill 450ms ease; }

/* subtle transform for playful bounce */
.bg-deco:hover{ transform: translateY(-6px) rotate(calc(var(--r,0deg) + 8deg)) scale(1.03); }

/* float animation */
@keyframes float {
  0%   { transform: translateY(0) rotate(var(--r,0deg)); }
  50%  { transform: translateY(-12px) rotate(calc(var(--r,0deg) + 6deg)); }
  100% { transform: translateY(0) rotate(var(--r,0deg)); }
}

/* Wrap / main content */
.wrap{
  position:relative;
  z-index:2;
  padding:28px 18px 60px;
  max-width:1100px;
  margin:0 auto;
}

/* hero */
.hero{ text-align:center; margin-bottom:18px; }
.title{
  margin:0;
  font-size:1.7rem;
  letter-spacing:0.6px;
  color:#1b3b2b;
  text-shadow: 0 2px 0 rgba(255,255,255,0.6);
}
.subtitle{
  margin:8px 0 0;
  color:var(--muted);
  font-size:0.95rem;
}

/* sections */
.section-title{
  font-size:1.05rem;
  margin:8px 6px 12px;
  color:#204b3a;
}

/* cards layout */
.examples .cards{
  display:flex;
  gap:12px;
  flex-direction:column;
}

/* example card */
.card{
  background: var(--card-bg);
  border-radius: var(--radius);
  padding:12px;
  box-shadow: var(--shadow);
  border: 6px solid rgba(255,255,255,0.6);
}

/* example-specific */
.example{
  display:flex;
  align-items:center;
  gap:12px;
  justify-content:space-between;
  padding:10px;
  border:6px solid rgba(255,255,255,0.7);
  transition: transform 220ms ease, box-shadow 220ms ease, border-color 300ms ease;
}
.example:hover{ transform:translateY(-6px) scale(1.01); box-shadow: 0 14px 28px rgba(0,0,0,0.12); }

/* image inside example */
.ex-img{
  width:120px;
  height:90px;
  object-fit:cover;
  border-radius:12px;
  border:6px solid rgba(255,255,255,0.9);
  box-shadow: 0 6px 18px rgba(0,0,0,0.08);
}

/* try button */
.btn-try{
  background: linear-gradient(135deg, var(--banana) 0%, #ffe27a 100%);
  border: none;
  color:#2b2a2a;
  font-weight:700;
  padding:12px 16px;
  border-radius:14px;
  cursor:pointer;
  box-shadow: 0 8px 20px rgba(0,0,0,0.12);
  transition: transform 180ms ease, box-shadow 180ms ease;
  white-space:nowrap;
}
.btn-try:hover{ transform: scale(1.06); box-shadow: 0 18px 36px rgba(0,0,0,0.16); }

/* uploader */
.uploader{
  margin-top:14px;
  padding:14px;
}

/* top-row buttons */
.top-row{
  display:flex;
  gap:10px;
  justify-content:space-between;
  align-items:center;
  margin-bottom:12px;
}
.refresh-btn{
  background: #ffffff;
  border: 2px dashed rgba(0,0,0,0.06);
  color:#333;
  padding:10px 14px;
  border-radius:12px;
  cursor:pointer;
  font-weight:600;
}
.detect-btn{
  background: linear-gradient(120deg, #ff8474, #ffcc66);
  color:#1c2b1f;
  padding:12px 18px;
  border-radius:14px;
  font-weight:800;
  border:none;
  cursor:pointer;
  box-shadow: 0 12px 26px rgba(255,120,120,0.12);
  transition: transform 160ms ease, box-shadow 160ms ease;
}
.detect-btn:hover{ transform: translateY(-4px) scale(1.02); box-shadow: 0 22px 42px rgba(255,120,120,0.18); }

/* fields */
.field{ margin:10px 0; }
.field-label{ display:block; font-weight:700; margin-bottom:8px; color:#24523b; }

/* input wrap with icon */
.input-wrap{
  display:flex;
  align-items:center;
  gap:10px;
  background: #fff;
  border-radius:14px;
  padding:8px 10px;
  border: 2px solid rgba(0,0,0,0.04);
  box-shadow: 0 8px 14px rgba(12,12,12,0.04);
}
.input-wrap .icon{
  width:28px;
  height:28px;
  fill:#8aa78b;
  opacity:0.95;
}
.file-input{ flex:1; font-size:0.95rem; padding:8px; border:none; background:transparent; color:#0d2b1a; outline:none; }
.text-input{ flex:1; font-size:0.95rem; padding:8px; border:none; background:transparent; outline:none; }

/* results */
.result{ margin-top:14px; padding:14px; display:block; }
.result-title{ margin:0 0 6px 0; font-size:1.15rem; color:#133b25; }
.result-line{ margin:6px 0; color:#203c2f; }
.pill{ display:inline-block; background:rgba(255,255,255,0.85); padding:6px 10px; margin:4px; border-radius:999px; box-shadow: 0 6px 12px rgba(0,0,0,0.06); font-weight:700; }

/* preview */
.preview-wrap{ margin-top:10px; text-align:center; }
.preview{ max-width:100%; border-radius:14px; box-shadow: 0 10px 24px rgba(0,0,0,0.12); border:6px solid rgba(255,255,255,0.9); }

/* small notices */
.notice{ margin-top:10px; padding:10px; border-radius:12px; background:#fff6f7; color:#7a1b2a; box-shadow:var(--shadow); }

/* default theme colors (no result) */
:root{
  --accent: var(--banana);
}
body { background: linear-gradient(180deg,#f7fff5, #ffffff); }

/* When backend sets body class 'bg-banana' or 'bg-watermelon' the theme adjusts */
body.bg-banana{
  --accent: var(--banana);
  --accent-2: var(--banana-dark);
  background: linear-gradient(180deg,#fffdf2,#fff7dc);
}
body.bg-watermelon{
  --accent: var(--watermelon-flesh);
  --accent-2: var(--watermelon-rind);
  background: linear-gradient(180deg,#fff6fb,#fff0f5);
}

/* adapt example borders and try button color from theme */
.btn-try{
  background: linear-gradient(135deg, color-mix(in srgb, var(--accent) 80%, #fff 20%), color-mix(in srgb, var(--accent-2) 40%, #fff 60%));
}
.example{
  border-color: color-mix(in srgb, var(--accent-2) 40%, rgba(255,255,255,0.7));
}

/* change bg-deco fills based on theme */
/* When banana is predicted: banana-y colors dominate */
body.bg-banana .bg-deco .banana-fill{ fill: #ffdf6b; }
body.bg-banana .bg-deco .banana-tip{ fill: #b37612; }
body.bg-banana .bg-deco .watermelon-flesh{ fill: #ffe9e7; opacity:0.6; }
body.bg-banana .bg-deco .watermelon-rind{ fill: #cbe9c8; opacity:0.6; }

/* When watermelon is predicted: watermelon colors dominate */
body.bg-watermelon .bg-deco .watermelon-flesh{ fill: #ff8fb0; }
body.bg-watermelon .bg-deco .watermelon-rind{ fill: #37b16a; }
body.bg-watermelon .bg-deco .watermelon-seed{ fill: #1b1b1b; }
body.bg-watermelon .bg-deco .banana-fill{ fill: #fff6d0; opacity:0.65; }
body.bg-watermelon .bg-deco .banana-tip{ fill: #e6c18a; opacity:0.6; }

/* Hover effects for images */
.ex-img, .preview{
  transition: transform 220ms ease, box-shadow 220ms ease;
}
.ex-img:hover, .preview:hover{ transform: translateY(-6px) scale(1.02); box-shadow: 0 20px 40px rgba(0,0,0,0.16); }

/* responsive adjustments */
@media (min-width:640px){
  .examples .cards{ flex-direction:row; }
  .ex-img{ width:160px; height:120px; }
  .wrap{ padding:40px 22px 80px; }
  .title{ font-size:2.0rem; }
}

/* larger screens */
@media (min-width:980px){
  .wrap{ display:grid; grid-template-columns: 1fr 420px; gap:20px; align-items:start; }
  .examples{ grid-column:1/2; }
  .uploader{ grid-column:2/3; position:sticky; top:28px; }
  .card.example{ align-items:center; }
}

/* small accessibility tweaks */
input[type="file"]{ cursor:pointer; }
button{ -webkit-tap-highlight-color: transparent; }

/* smooth transitions for theme color changes */
*{ transition: background-color 300ms ease, color 300ms ease, border-color 300ms ease; }

/* ensure strong contrast on text when theme changes */
body.bg-watermelon .title{ color:#6b1a3b; }
body.bg-banana .title{ color:#5a3e05; }